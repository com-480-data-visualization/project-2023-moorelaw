<template>
    <!--
    1. All the cores are marked with Core ID
    2. Other components are grouped.
-->
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="-0.5 -0.5 301 301" style="background-color: rgb(255, 255, 255);">
        <defs />
        <g id="interconnect_cores">

        </g>
        <g id="interconnect_crossbar">
            <path d="M 75 55 Q 75 75 245 75" />
            <path d="M 75 55 Q 75 125 245 125" />
            <path d="M 75 55 Q 75 175 245 175" />
            <path d="M 75 55 Q 75 225 245 225" />
            <path d="M 75 55 Q 75 75 100 75 Q 125 75 125 55" />
            <path d="M 75 55 Q 75 75 125 75 Q 175 75 175 55" />
            <path d="M 75 55 Q 75 75 150 75 Q 225 75 225 55" />
            <path d="M 125 55 Q 125 75 245 75" />
            <path d="M 125 55 Q 125 125 245 125" />
            <path d="M 125 55 Q 125 175 245 175" />
            <path d="M 125 55 Q 125 225 245 225" />
            <path d="M 125 55 Q 125 75 55 75" />
            <path d="M 175 55 Q 175 75 245 75" />
            <path d="M 175 55 Q 175 125 245 125" />
            <path d="M 175 55 Q 175 175 245 175" />
            <path d="M 175 55 Q 175 225 245 225" />
            <path d="M 225 55 Q 225 125 245 125" />
            <path d="M 225 55 Q 225 175 245 175" />
            <path d="M 225 55 Q 225 225 245 225" />
            <path d="M 55 75 Q 75 75 75 55" />
            <path d="M 55 75 Q 125 75 125 55" />
            <path d="M 55 75 Q 175 75 175 55" />
            <path d="M 55 75 Q 225 75 225 55" />
            <path d="M 55 75 Q 75 75 75 245" />
            <path d="M 55 75 Q 125 75 125 245" />
            <path d="M 55 75 Q 175 75 175 245" />
            <path d="M 55 75 Q 225 75 225 245" />
            <path d="M 55 75 Q 55 75 245 75" />
            <path d="M 55 75 Q 75 75 75 100 Q 75 125 55 125" />
            <path d="M 55 75 Q 75 75 75 125 Q 75 175 55 175" />
            <path d="M 55 75 Q 75 75 75 150 Q 75 225 55 225" />
            <path d="M 55 125 Q 75 125 75 55" />
            <path d="M 55 125 Q 125 125 125 55" />
            <path d="M 55 125 Q 175 125 175 55" />
            <path d="M 55 125 Q 225 125 225 55" />
            <path d="M 55 125 Q 75 125 75 245" />
            <path d="M 55 125 Q 125 125 125 245" />
            <path d="M 55 125 Q 175 125 175 245" />
            <path d="M 55 125 Q 225 125 225 245" />
            <path d="M 55 125 Q 55 125 245 125" />
            <path d="M 55 125 Q 75 125 75 150 Q 75 175 55 175" />
            <path d="M 55 125 Q 75 125 75 175 Q 75 225 55 225" />
            <path d="M 55 175 Q 75 175 75 55" />
            <path d="M 55 175 Q 125 175 125 55" />
            <path d="M 55 175 Q 175 175 175 55" />
            <path d="M 55 175 Q 225 175 225 55" />
            <path d="M 55 175 Q 75 175 75 245" />
            <path d="M 55 175 Q 125 175 125 245" />
            <path d="M 55 175 Q 175 175 175 245" />
            <path d="M 55 175 Q 225 175 225 245" />
            <path d="M 55 175 Q 55 175 245 175" />
            <path d="M 55 175 Q 75 175 75 200 Q 75 225 55 225" />
            <path d="M 55 225 Q 75 225 75 55" />
            <path d="M 55 225 Q 125 225 125 55" />
            <path d="M 55 225 Q 175 225 175 55" />
            <path d="M 55 225 Q 225 225 225 55" />
            <path d="M 55 225 Q 75 225 75 245" />
            <path d="M 55 225 Q 125 225 125 245" />
            <path d="M 55 225 Q 175 225 175 245" />
            <path d="M 55 225 Q 225 225 225 245" />
            <path d="M 55 225 Q 55 225 245 225" />
            <path d="M 75 245 Q 75 225 100 225 Q 125 225 125 245" />
            <path d="M 75 245 Q 75 225 125 225 Q 175 225 175 245" />
            <path d="M 75 245 Q 75 225 150 225 Q 225 225 225 245" />
            <path d="M 125 245 Q 125 225 150 225 Q 175 225 175 245" />
            <path d="M 125 245 Q 125 225 175 225 Q 225 225 225 245" />
            <path d="M 175 245 Q 175 225 200 225 Q 225 225 225 245" />
            <path d="M 245 75 Q 225 75 225 55" />
            <path d="M 245 75 Q 225 75 225 245" />
            <path d="M 245 75 Q 175 75 175 245" />
            <path d="M 245 75 Q 125 75 125 245" />
            <path d="M 245 75 Q 75 75 75 245" />
            <path d="M 245 75 Q 225 75 225 100 Q 225 125 245 125" />
            <path d="M 245 75 Q 225 75 225 125 Q 225 175 245 175" />
            <path d="M 245 75 Q 225 75 225 150 Q 225 225 245 225" />
            <path d="M 245 125 Q 225 125 225 245" />
            <path d="M 245 125 Q 175 125 175 245" />
            <path d="M 245 125 Q 125 125 125 245" />
            <path d="M 245 125 Q 75 125 75 245" />
            <path d="M 245 125 Q 225 125 225 150 Q 225 175 245 175" />
            <path d="M 245 125 Q 225 125 225 175 Q 225 225 245 225" />
            <path d="M 245 175 Q 125 175 125 245" />
            <path d="M 245 175 Q 225 175 225 245" />
            <path d="M 245 175 Q 175 175 175 245" />
            <path d="M 245 175 Q 125 175 125 245" />
            <path d="M 245 175 Q 75 175 75 245" />
            <path d="M 245 175 Q 225 175 225 200 Q 225 225 245 225" />
            <path d="M 245 225 Q 225 225 225 245" />
            <path d="M 245 225 Q 175 225 175 245" />
            <path d="M 245 225 Q 125 225 125 245" />
            <path d="M 245 225 Q 75 225 75 245" />
        </g>

        <g id="interconnect_ring">
            <ellipse cx="150" cy="150" rx="100" ry="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <rect x="140" y="40" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="149.5" y="54.5">R</text></g>
            <rect x="140" y="240" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="149.5" y="254.5">R</text></g>
            <rect x="240" y="140" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="249.5" y="154.5">R</text></g>
            <rect x="40" y="140" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="49.5" y="154.5">R</text></g>
            <rect x="210" y="70" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="219.5" y="84.5">R</text></g>
            <rect x="70" y="70" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="79.5" y="84.5">R</text></g>
            <rect x="70" y="210" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="79.5" y="224.5">R</text></g>
            <rect x="210" y="210" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="219.5" y="224.5">R</text></g>
            <rect x="234" y="105" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="243.5" y="119.5">R</text></g>
            <rect x="180" y="50" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="189.5" y="64.5">R</text></g>
            <rect x="97" y="50" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="106.5" y="64.5">R</text></g>
            <rect x="47" y="105" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="56.5" y="119.5">R</text></g>
            <rect x="232" y="180" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="241.5" y="194.5">R</text></g>
            <rect x="180" y="230" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="189.5" y="244.5">R</text></g>
            <rect x="100" y="230" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="109.5" y="244.5">R</text></g>
            <rect x="47" y="180" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="56.5" y="194.5">R</text></g>
            <path d="M 100 250 L 92.72 262.14" />
            <path d="M 258.39 100.61 L 254 105" />
            <path d="M 234.39 65.61 L 230 70" />
            <path d="M 208.57 37.4 L 200 50" />
            <path d="M 150 30 L 150 40" />
            <path d="M 91.49 38.52 L 97 50" />
            <path d="M 65.61 65.61 L 70 70" />
            <path d="M 42.61 100.61 L 47 105" />
            <path d="M 30 150 L 40 150" />
            <path d="M 260 150 L 270 150" />
            <path d="M 252 200 L 256.39 204.39" />
            <path d="M 230 230 L 234.39 234.39" />
            <path d="M 200 250 L 207.28 262.14" />
            <path d="M 150 270 L 150 260" />
            <path d="M 70 230 L 65.61 234.39" />
            <path d="M 42.61 204.39 L 47 200" />
        </g>

        <g id="interconnect_mesh">
            <path d="M 80 50 Q 80 50 120 50" />
            <path d="M 140 50 Q 140 50 180 50" />
            <path d="M 200 50 Q 200 50 240 50" />
            <path d="M 60 60 L 55.61 64.39" />
            <path d="M 120 60 L 115.61 64.39" />
            <path d="M 70 60 L 70 100" />
            <rect x="60" y="40" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="69.5" y="54.5">R</text></g>
            <path d="M 130 60 L 130 100" />
            <rect x="120" y="40" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="129.5" y="54.5">R</text></g>
            <path d="M 180 60 L 175.61 64.39" />
            <path d="M 190 60 L 190 100" />
            <rect x="180" y="40" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="189.5" y="54.5">R</text></g>
            <path d="M 250 60 L 250 100" />
            <rect x="240" y="40" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="249.5" y="54.5">R</text></g>
            <path d="M 240 60 L 235.61 64.39" />
            <path d="M 80 110 Q 80 110 120 110" />
            <path d="M 140 110 Q 140 110 180 110" />
            <path d="M 200 110 Q 200 110 240 110" />
            <path d="M 60 120 L 55.61 124.39" />
            <path d="M 120 120 L 115.61 124.39" />
            <path d="M 70 120 L 70 160" />
            <rect x="60" y="100" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="69.5" y="114.5">R</text></g>
            <path d="M 130 120 L 130 160" />
            <rect x="120" y="100" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="129.5" y="114.5">R</text></g>
            <path d="M 180 120 L 175.61 124.39" />
            <path d="M 190 120 L 190 160" />
            <rect x="180" y="100" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="189.5" y="114.5">R</text></g>
            <path d="M 250 120 L 250 160" />
            <rect x="240" y="100" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="249.5" y="114.5">R</text></g>
            <path d="M 240 120 L 235.61 124.39" />
            <path d="M 80 170 Q 80 170 120 170" />
            <path d="M 140 170 Q 140 170 180 170" />
            <path d="M 200 170 Q 200 170 240 170" />
            <path d="M 60 180 L 55.61 184.39" />
            <path d="M 120 180 L 115.61 184.39" />
            <path d="M 70 180 L 70 220" />
            <rect x="60" y="160" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="69.5" y="174.5">R</text></g>
            <path d="M 130 180 L 130 220" />
            <rect x="120" y="160" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="129.5" y="174.5">R</text></g>
            <path d="M 180 180 L 175.61 184.39" />
            <path d="M 190 180 L 190 220" />
            <rect x="180" y="160" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="189.5" y="174.5">R</text></g>
            <path d="M 250 180 L 250 220" />
            <rect x="240" y="160" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="249.5" y="174.5">R</text></g>
            <path d="M 240 180 L 235.61 184.39" />
            <path d="M 80 230 Q 80 230 120 230" />
            <path d="M 140 230 Q 140 230 180 230" />
            <path d="M 200 230 Q 200 230 240 230" />
            <path d="M 60 240 L 55.61 244.39" />
            <path d="M 120 240 L 115.61 244.39" />
            <rect x="60" y="220" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="69.5" y="234.5">R</text></g>
            <rect x="120" y="220" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="129.5" y="234.5">R</text></g>
            <path d="M 180 240 L 175.61 244.39" />
            <rect x="180" y="220" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="189.5" y="234.5">R</text></g>
            <rect x="240" y="220" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="249.5" y="234.5">R</text></g>
            <path d="M 240 240 L 235.61 244.39" />
        </g>
        <g id="interconnect_torus">
            <path d="M 80 50 Q 80 50 120 50" />
            <path d="M 60 50 Q 30 50 30 42.5 Q 30 35 160 35 Q 290 35 290 42.5 Q 290 50 260 50" />
            <path d="M 140 50 Q 140 50 180 50" />
            <path d="M 130 40 Q 130 10 137.5 10 Q 145 10 145 140 Q 145 270 137.5 270 Q 130 270 130 240" />
            <path d="M 200 50 Q 200 50 240 50" />
            <path d="M 190 40 Q 190 10 197.5 10 Q 205 10 205 140 Q 205 270 197.5 270 Q 190 270 190 240" />
            <path d="M 245 40 Q 245 10 255 10 Q 265 10 265 140 Q 265 270 255 270 Q 245 270 245 240" />
            <path d="M 60 60 L 55.61 64.39" />
            <path d="M 120 60 L 115.61 64.39" />
            <path d="M 70 60 L 70 100" />
            <rect x="60" y="40" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="69.5" y="54.5">R</text></g>
            <path d="M 130 60 L 130 100" />
            <rect x="120" y="40" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="129.5" y="54.5">R</text></g>
            <path d="M 180 60 L 175.61 64.39" />
            <path d="M 190 60 L 190 100" />
            <rect x="180" y="40" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="189.5" y="54.5">R</text></g>
            <path d="M 250 60 L 250 100" />
            <rect x="240" y="40" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="249.5" y="54.5">R</text></g>
            <path d="M 70 40 Q 70 10 77.5 10 Q 85 10 85 140 Q 85 270 77.5 270 Q 70 270 70 240" />
            <path d="M 240 60 L 235.61 64.39" />
            <path d="M 60 110 Q 30 110 30 102.5 Q 30 95 160 95 Q 290 95 290 102.5 Q 290 110 260 110" />
            <path d="M 140 110 Q 140 110 180 110" />
            <path d="M 200 110 Q 200 110 240 110" />
            <path d="M 60 120 L 55.61 124.39" />
            <path d="M 120 120 L 115.61 124.39" />
            <path d="M 70 120 L 70 160" />
            <rect x="60" y="100" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="69.5" y="114.5">R</text></g>
            <path d="M 130 120 L 130 160" />
            <rect x="120" y="100" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="129.5" y="114.5">R</text></g>
            <path d="M 180 120 L 175.61 124.39" />
            <path d="M 190 120 L 190 160" />
            <rect x="180" y="100" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="189.5" y="114.5">R</text></g>
            <path d="M 250 120 L 250 160" />
            <rect x="240" y="100" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="249.5" y="114.5">R</text></g>
            <path d="M 240 120 L 235.61 124.39" />
            <path d="M 80 170 Q 80 170 120 170" />
            <path d="M 140 170 Q 140 170 180 170" />
            <path d="M 200 170 Q 200 170 240 170" />
            <path d="M 60 180 L 55.61 184.39" />
            <path d="M 120 180 L 115.61 184.39" />
            <path d="M 70 180 L 70 220" />
            <rect x="60" y="160" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="69.5" y="174.5">R</text></g>
            <path d="M 130 180 L 130 220" />
            <rect x="120" y="160" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="129.5" y="174.5">R</text></g>
            <path d="M 180 180 L 175.61 184.39" />
            <path d="M 190 180 L 190 220" />
            <rect x="180" y="160" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="189.5" y="174.5">R</text></g>
            <path d="M 250 180 L 250 220" />
            <rect x="240" y="160" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="249.5" y="174.5">R</text></g>
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="104.5" y="199.5">C</text></g>
            <path d="M 240 180 L 235.61 184.39" />
            <path d="M 80 230 Q 80 230 120 230" />
            <path d="M 140 230 Q 140 230 180 230" />
            <path d="M 200 230 Q 200 230 240 230" />
            <path d="M 60 240 L 55.61 244.39" />
            <path d="M 120 240 L 115.61 244.39" />
            <rect x="60" y="220" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="69.5" y="234.5">R</text></g>
            <rect x="120" y="220" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="129.5" y="234.5">R</text></g>
            <path d="M 180 240 L 175.61 244.39" />
            <rect x="180" y="220" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="189.5" y="234.5">R</text></g>
            <rect x="240" y="220" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" text-anchor="middle" font-size="12px"><text x="249.5" y="234.5">R</text></g>
            <path d="M 240 240 L 235.61 244.39" />
            <path d="M 60 170 Q 30 170 30 162.5 Q 30 155 160 155 Q 290 155 290 162.5 Q 290 170 260 170" />
            <path d="M 60 230 Q 30 230 30 222.5 Q 30 215 160 215 Q 290 215 290 222.5 Q 290 230 260 230" />
        </g>
        <g id="interconnect_butterfly">
            <path d="M 30 55 L 30 65" />
            <path d="M 30 55 L 65 65" />
            <path d="M 65 55 L 30 65" />
            <path d="M 65 55 L 65 65" />
            <path d="M 100 55 L 100 65" />
            <path d="M 100 55 L 135 65" />
            <path d="M 135 55 L 100 65" />
            <path d="M 135 55 L 135 65" />
            <path d="M 30 245 L 30 235" />
            <path d="M 30 245 L 65 235" />
            <path d="M 65 245 L 65 235" />
            <path d="M 65 245 L 30 235" />
            <path d="M 30 85 L 30 115" />
            <path d="M 30 85 L 100 115" />
            <rect x="20" y="65" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="29.5"
                    y="79.5">R</text></g>
            <path d="M 65 85 L 65 115" />
            <rect x="55" y="65" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="64.5"
                    y="79.5">R</text></g>
            <path d="M 100 85 L 100 115" />
            <rect x="90" y="65" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="99.5"
                    y="79.5">R</text></g>
            <path d="M 135 85 L 135 115" />
            <rect x="125" y="65" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="134.5"
                    y="79.5">R</text></g>
            <path d="M 30 215 L 30 185" />
            <path d="M 30 215 L 100 185" />
            <rect x="20" y="215" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="29.5"
                    y="229.5">R</text></g>
            <path d="M 65 215 L 65 185" />
            <path d="M 65 215 L 135 185" />
            <rect x="55" y="215" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="64.5"
                    y="229.5">R</text></g>
            <path d="M 100 245 L 100 235" />
            <path d="M 100 245 L 135 235" />
            <path d="M 135 245 L 135 235" />
            <path d="M 135 245 L 100 235" />
            <path d="M 100 215 L 100 185" />
            <path d="M 100 215 L 30 185" />
            <rect x="90" y="215" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="99.5"
                    y="229.5">R</text></g>
            <path d="M 135 215 L 65 185" />
            <path d="M 135 215 L 135 185" />
            <rect x="125" y="215" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="134.5"
                    y="229.5">R</text></g>
            <path d="M 30 135 L 170 165" />
            <path d="M 30 135 L 30 165" />
            <rect x="20" y="115" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="29.5"
                    y="129.5">R</text></g>
            <path d="M 65 135 L 65 165" />
            <rect x="55" y="115" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="64.5"
                    y="129.5">R</text></g>
            <path d="M 100 135 L 100 165" />
            <rect x="90" y="115" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="99.5"
                    y="129.5">R</text></g>
            <path d="M 135 135 L 135 165" />
            <rect x="125" y="115" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="134.5"
                    y="129.5">R</text></g>
            <path d="M 65 85 L 135 115" />
            <path d="M 100 85 L 30 115" />
            <path d="M 135 85 L 65 115" />
            <path d="M 170 55 L 170 65" />
            <path d="M 170 55 L 205 65" />
            <path d="M 205 55 L 170 65" />
            <path d="M 205 55 L 205 65" />
            <path d="M 240 55 L 240 65" />
            <path d="M 240 55 L 275 65" />
            <path d="M 275 55 L 240 65" />
            <path d="M 275 55 L 275 65" />
            <path d="M 170 85 L 170 115" />
            <path d="M 170 85 L 240 115" />
            <rect x="160" y="65" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="169.5"
                    y="79.5">R</text></g>
            <path d="M 205 85 L 205 115" />
            <rect x="195" y="65" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="204.5"
                    y="79.5">R</text></g>
            <path d="M 240 85 L 240 115" />
            <rect x="230" y="65" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="239.5"
                    y="79.5">R</text></g>
            <path d="M 275 85 L 275 115" />
            <rect x="265" y="65" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="274.5"
                    y="79.5">R</text></g>
            <path d="M 170 135 L 170 165" />
            <rect x="160" y="115" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="169.5"
                    y="129.5">R</text></g>
            <path d="M 205 135 L 205 165" />
            <rect x="195" y="115" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="204.5"
                    y="129.5">R</text></g>
            <path d="M 240 135 L 240 165" />
            <rect x="230" y="115" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="239.5"
                    y="129.5">R</text></g>
            <path d="M 275 135 L 275 165" />
            <rect x="265" y="115" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="274.5"
                    y="129.5">R</text></g>
            <path d="M 205 85 L 275 115" />
            <path d="M 240 85 L 170 115" />
            <path d="M 275 85 L 205 115" />
            <rect x="20" y="165" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="29.5"
                    y="179.5">R</text></g>
            <rect x="55" y="165" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="64.5"
                    y="179.5">R</text></g>
            <rect x="90" y="165" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="99.5"
                    y="179.5">R</text></g>
            <rect x="125" y="165" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="134.5"
                    y="179.5">R</text></g>
            <path d="M 170 245 L 170 235" />
            <path d="M 170 245 L 205 235" />
            <path d="M 205 245 L 205 235" />
            <path d="M 205 245 L 170 235" />
            <path d="M 170 215 L 170 185" />
            <path d="M 170 215 L 240 185" />
            <rect x="160" y="215" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="169.5"
                    y="229.5">R</text></g>
            <path d="M 205 215 L 205 185" />
            <path d="M 205 215 L 275 185" />
            <rect x="195" y="215" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="204.5"
                    y="229.5">R</text></g>
            <path d="M 240 245 L 240 235" />
            <path d="M 240 245 L 275 235" />
            <path d="M 275 245 L 275 235" />
            <path d="M 275 245 L 240 235" />
            <path d="M 240 215 L 240 185" />
            <path d="M 240 215 L 170 185" />
            <rect x="230" y="215" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="239.5"
                    y="229.5">R</text></g>
            <path d="M 275 215 L 205 185" />
            <path d="M 275 215 L 275 185" />
            <rect x="265" y="215" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="274.5"
                    y="229.5">R</text></g>
            <rect x="160" y="165" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="169.5"
                    y="179.5">R</text></g>
            <rect x="195" y="165" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="204.5"
                    y="179.5">R</text></g>
            <rect x="230" y="165" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="239.5"
                    y="179.5">R</text></g>
            <rect x="265" y="165" width="20" height="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" />
            <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="274.5"
                    y="179.5">R</text></g>
            <path d="M 65 135 L 205 165" />
            <path d="M 100 135 L 240 165" />
            <path d="M 135 135 L 275 165" />
            <path d="M 170 135 L 30 165" />
            <path d="M 205 135 L 65 165" />
            <path d="M 240 135 L 100 165" />
            <path d="M 275 135 L 135 165" />
        </g>
    </svg>
</template>

<script setup lang="ts">

import { onMounted, ref, watch } from 'vue';
import * as d3 from 'd3';

const postition_table = {
    crossbar_coor: [
        [75, 40], // r = 15, fill=#ffffff, stroke=#000
        [125, 40],
        [175, 40],
        [225, 40],

        [40, 75],
        [40, 125],
        [40, 175],
        [40, 225],

        [75, 260],
        [125, 260],
        [175, 260],
        [225, 260],

        [260, 75],
        [260, 125],
        [260, 175],
        [260, 225]
    ],

    ring_coor: [
        [269, 90],
        [245, 55],
        [217, 25],
        [150, 15],

        [85, 25],
        [55, 55],
        [32, 90],
        [15, 150],

        [285, 150],
        [267, 215],
        [245, 245],
        [215, 275],

        [150, 285],
        [85, 275],
        [55, 245],
        [32, 215]
    ],

    mesh_coor: [
        [225, 195],
        [165, 195],
        [45, 195],
        [105, 195],
        
        [225, 255],
        [165, 255],
        [45, 255],
        [105, 255],

        [225, 75],
        [165, 75],
        [45, 75],
        [105, 75],

        [225, 135],
        [165, 135],
        [45, 135],
        [105, 135],
    ],

    torus_coor: [
        [225, 75],
        [165, 75],
        [45, 75],
        [105, 75],

        [225, 135],
        [165, 135],
        [45, 135],
        [105, 135],

        [225, 195],
        [165, 195],
        [45, 195],
        [105, 195],

        [225, 255],
        [165, 255],
        [45, 255],
        [105, 255]
    ],

    butterfly_coor: [
        [30, 40],
        [65, 40],
        [100, 40],
        [135, 40],

        [30, 260],
        [65, 260],
        [100, 260],
        [135, 260],

        [170, 40],
        [205, 40],
        [240, 40],
        [275, 40],

        [170, 260],
        [205, 260],
        [240, 260],
        [275, 260]
    ]
};

const props = defineProps({
    currentTopology: {
        type: String,
        required: true
    }
});


const updateLayout = (new_layout: String) => {
    // 1. make all the element hide
    for (const groups of ["interconnect_crossbar", "interconnect_ring", "interconnect_mesh", "interconnect_torus", "interconnect_butterfly"]) {
        d3.select(`#${groups}`).transition().duration(300).style("opacity", 0);
    }

    // 2. move the circle to the proper place.

    const table = (() => {
        if (new_layout == "crossbar") {
            return postition_table.crossbar_coor;
        } else if (new_layout == "ring") {
            return postition_table.ring_coor;
        } else if (new_layout == "mesh") {
            return postition_table.mesh_coor;
        } else if (new_layout == "torus") {
            return postition_table.torus_coor;
        } else {
            return postition_table.butterfly_coor;
        }
    })();

    for (const index in table) {
        d3.select(`#interconnect_cores_${index}`).transition().delay(500).duration(500).attr("cx", table[index][0]).attr("cy", table[index][1]);
    }

    d3.select(`#interconnect_${new_layout}`).transition().delay(800).duration(500).style("opacity", 1);
};


watch(() => props.currentTopology, (new_value, old_value) => {
    if (new_value != old_value) {
        updateLayout(new_value);
    }
}, { immediate: true, deep: true });

onMounted(() => {
    const table = (() => {
        if (props.currentTopology == "crossbar") {
            return postition_table.crossbar_coor;
        } else if (props.currentTopology == "ring") {
            return postition_table.ring_coor;
        } else if (props.currentTopology == "mesh") {
            return postition_table.mesh_coor;
        } else if (props.currentTopology == "torus") {
            return postition_table.torus_coor;
        } else {
            return postition_table.butterfly_coor;
        }
    })();

    // create the circles accordingly
    for (const index in table) {
        d3.select("#interconnect_cores")
            .append("circle")
            .attr("id", `interconnect_cores_${index}`)
            .attr("cx", table[index][0])
            .attr("cy", table[index][1])
            .attr("r", 15)
            .style("fill", "#fff")
            .style("stroke", "#000");
    }

    
    for (const groups of ["interconnect_crossbar", "interconnect_ring", "interconnect_mesh", "interconnect_torus", "interconnect_butterfly"]) {
        d3.select(`#${groups}`).selectChildren("path")
            .style("fill", "none")
            .style("stroke", "#000")
            .style("stroke-miterlimit", "10");

    }

    for (const groups of ["interconnect_crossbar", "interconnect_ring", "interconnect_mesh", "interconnect_torus", "interconnect_butterfly"]) {
        d3.select(`#${groups}`).style("opacity", 0);
    }

    updateLayout(props.currentTopology);

});

</script>



